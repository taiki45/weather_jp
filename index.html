<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>weather_jp by taiki45</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>weather_jp</h1>
        <h2>Fetch Japan weather info as Ruby object easily.</h2>
        <a href="https://github.com/taiki45/weather_jp" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="weather_jp" class="anchor" href="#weather_jp" aria-hidden="true"><span class="octicon octicon-link"></span></a>weather_jp</h1>

<p>Japan weather infomation API wrapper. Fetch Japan weather status or forecast as Ruby object easily.</p>

<h2>
<a id="v2-upgrade-guides" class="anchor" href="#v2-upgrade-guides" aria-hidden="true"><span class="octicon octicon-link"></span></a>V2 upgrade guides</h2>

<p>The backend server returns differrnt contents from before. So V1 is not working. Please update to V2.</p>

<p>And V2 contains some of new features, deprecations and removales.</p>

<ul>
<li>
<code>WeatherJp::City</code> now available. You can get latitude/longitude of the city.</li>
<li>
<code>WeatherJp::Weather#current</code>. The current weather is a little bit differrnt from day weather forecast.

<ul>
<li>have: <code>temperature</code>, <code>wind_speed</code>, <code>wind_text</code>
</li>
<li>not have: <code>precip</code>, <code>high</code>, <code>low</code>.</li>
</ul>
</li>
<li>
<code>WeatherJp::Weather#each</code> now contains the <code>DayWeather</code> object which represents current weather status. If you do not want current weather status, use <code>each_without_current</code> or <code>except_current</code> method.</li>
<li>Remove <code>customize_to_s</code> method. This feature will be re-added as configurable procedure.</li>
<li>Remove option from <code>WeatherJp.get</code>. If you use these option, use <code>WeatherJp::Weather#for</code>.</li>
</ul>

<p>See deprecations at <a href="http://rubydoc.info/gems/weather_jp/">API document page</a>.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'weather_jp'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle install
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install weather_jp
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<div class="highlight highlight-ruby"><pre><span class="pl-c"># creat weather object in differrnt ways</span>
tokyo <span class="pl-k">=</span> <span class="pl-s3">WeatherJp</span>.get <span class="pl-c1">:tokyo</span>
akiba <span class="pl-k">=</span> <span class="pl-s3">WeatherJp</span>.get <span class="pl-s1"><span class="pl-pds">"</span>秋葉原<span class="pl-pds">"</span></span>
tsuyama <span class="pl-k">=</span> <span class="pl-s3">WeatherJp</span>.get <span class="pl-s1"><span class="pl-pds">"</span>津山<span class="pl-pds">"</span></span>

<span class="pl-c"># get weather info as String</span>
tokyo.today.to_s
  <span class="pl-c">#=&gt; can be "東京都 東京の天気は曇りのち晴れ、最高気温34度...etc"</span>

<span class="pl-c"># or your have unparsed string</span>
<span class="pl-s3">WeatherJp</span>.parse(<span class="pl-s1"><span class="pl-pds">"</span>今日の香川県の天気教えて下さい<span class="pl-pds">"</span></span>).to_s
  <span class="pl-c">#=&gt; "香川県 高松の今日の天気は曇のち晴れ 最高気温25度 最低気温17度 降水確率は20% です。"</span>

<span class="pl-c"># to get weather info in differrnt ways</span>
tokyo.today.text <span class="pl-c">#=&gt; can be "晴れ"</span>
tokyo.tomorrow.precip <span class="pl-c">#=&gt; can be 10</span>
akiba.day_after_tomorrow.to_s

<span class="pl-c"># yields DayWeather object</span>
tokyo.each <span class="pl-k">do </span>|<span class="pl-vo">w</span>|
  puts w.city_name
  puts w.date
  puts w.date_text
  puts w.text
  puts w.high
  puts w.low
  puts w.precip
<span class="pl-k">end</span>

<span class="pl-c"># You can use WeatherJp::City object</span>
tokyo.city =&gt; <span class="pl-s3">WeatherJp</span>::<span class="pl-vo">City</span>
[tokyo.city.longitude, tokyo.city.latitude]

akiba.map {|<span class="pl-vo">w</span>| [w.date_text, w.text] }

<span class="pl-c"># or use as simple Array or Hash</span>
tokyo.to_a
akiba.weathers
tsuyama.each {|<span class="pl-vo">w</span>| p w.to_hash }</pre></div>

<p>See more detail in <a href="http://rubydoc.info/gems/weather_jp/">API document page</a>.</p>

<h2>
<a id="requires" class="anchor" href="#requires" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requires</h2>

<p>Ruby &gt;= 2.0.0</p>

<h2>
<a id="documents" class="anchor" href="#documents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documents</h2>

<p><a href="http://rubydoc.info/gems/weather_jp/">http://rubydoc.info/gems/weather_jp/</a></p>

<h2>
<a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p><a href="http://taiki45.github.io/">@taiki45</a></p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Added some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>

<p>Feel free to any requests or bug reports, issues, comments.</p>

<p>Thank you :)</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/taiki45/weather_jp/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/taiki45/weather_jp/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/taiki45/weather_jp"></a> is maintained by <a href="https://github.com/taiki45">taiki45</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
